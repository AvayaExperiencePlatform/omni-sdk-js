<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@avaya/axp-messaging-ui-sdk | AXP Web Omni SDK</title><meta name="description" content="Documentation for AXP Web Omni SDK"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">AXP Web Omni SDK</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">AXP Web Omni SDK</a></li><li><a href="_avaya_axp_messaging_ui_sdk.html">@avaya/axp-messaging-ui-sdk</a></li></ul><h1>Module @avaya/axp-messaging-ui-sdk</h1></div><section class="tsd-panel tsd-typography"><a id="md:axp-messaging-ui" class="tsd-anchor"></a><h1><a href="#md:axp-messaging-ui">AXP Messaging UI</a></h1><p>AXP Messaging UI SDK provides a highly customizable user interface as a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components">Web Component</a> for messaging that can be easily integrated into the Client website to enable messaging capabilities. It empowers developers to finely tailor the messaging interface, allowing customization of colors, strings, icons, typography, etc., to meet the specific visual requirements of your application.</p>
<p>The AXP Messaging UI is build on top of <a href="/modules/_avaya_axp_client_sdk_core">AXP Core</a> and <a href="/modules/_avaya_axp_client_sdk_messaging">AXP Messaging</a> SDKs. Before using the AXP Messaging UI SDK, please refer to <a href="https://developers.avayacloud.com/avaya-experience-platform/docs/introduction#next-steps">this page</a> for a list of prerequisites.</p>
<a id="md:features" class="tsd-anchor"></a><h2><a href="#md:features">Features</a></h2><ul>
<li><strong>Show messages with status:</strong> Shows the messages from various sources such as agents, supervisors, and bots with time and status indicators, including real-time updates for messages being sent, successfully delivered to AXP, or requiring a retry due to failure.</li>
<li><strong>Message Organization:</strong> Organizes messages based on the date, providing users with a structured and easily navigable conversation timeline for a seamless and enjoyable messaging experience.</li>
<li><strong>Show participants:</strong> Shows a list of all active participants involved in a conversation along with the name of the sender in every message. This is particularly useful for non-customers, as it makes it easy for users to identify and follow the discussion flow.</li>
<li><strong>Message History:</strong> Retrieve and display historical messages in a conversation, enabling users to reference messages from previous interactions for context and continuity.</li>
<li><strong>Infinite Scrolling:</strong> Improve user experience by automatically fetching older messages as users scroll to the top, ensuring a seamless and uninterrupted conversation exploration.</li>
<li><strong>Message Retry:</strong> Facilitate communication resilience by allowing users to retry sending messages that may have failed in previous attempts.</li>
<li><strong>Attachments:</strong> Enhances communication capabilities by enabling users to send attachments, either independently or with accompanying text messages, fostering a richer and more interactive messaging experience.</li>
<li><strong>Location Sharing:</strong> Empower users to share location information seamlessly when requested by an agent, enhancing the contextual richness of conversations.</li>
<li><strong>Rich Media:</strong> Supports rich media messages like links, post backs, replies, and carousels, allowing for dynamic and engaging content within the messaging interface.</li>
<li><strong>Customizability</strong>: Provides fine grained customizations options for developers to tweak the messaging interface to meet the specific visual requirements of their brand.</li>
</ul>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><p>To install the AXP Messaging UI SDK, run the following command:</p>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@avaya/axp-messaging-ui-sdk</span>
</code><button>Copy</button></pre>
<p>The AXP Messaging UI SDK depends on the AXP Core SDK and AXP Messaging SDK, which would be installed alongside the AXP Messaging UI SDK.</p>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><p>The AXP Messaging UI SDK exports a Web Component <code>&lt;axp-messaging-ui-sdk&gt;</code> that can be used in your HTML code. Once the browser encounters the web component <code>&lt;axp-messaging-ui-sdk&gt;</code> in the HTML document, it will instantiate it and the component will be rendered onto the screen. <strong>Hence, it is important to note that all the configurations must be done before the component can be render. This is to make sure it picks up the correct configuration values while rendering. These configurations include the required AXP related configurations, callbacks and optional customizations.</strong></p>
<a id="md:configuration" class="tsd-anchor"></a><h3><a href="#md:configuration">Configuration</a></h3><p>As stated above the AXP Messaging UI SDK requires some configurations to be set before it can be rendered. This should be done by setting an config object by name <code>AxpMessagingUiConfig</code> on the <code>window</code> object before loading your website&#39;s script that uses (imports) the AXP Messaging UI SDK.</p>
<p><strong>Example:</strong></p>
<p>Configuration script: <code>axp-messaging-ui-config.js</code></p>
<pre><code class="language-js"><span class="hl-7">// Configuration script - axp-messaging-ui-config.js</span><br/><span class="hl-4">window</span><span class="hl-1">.</span><span class="hl-4">AxpMessagingUiConfig</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-7">// Required AXP configurations</span><br/><span class="hl-1">  </span><span class="hl-7">// Full list of AXP configurations are ignored here for brevity. Please refer to the Configuration options section below to know more.</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<pre><code class="language-js"><span class="hl-7">// Alternatively, you can declare the config object using the `var` keyword.</span><br/><span class="hl-5">var</span><span class="hl-1"> </span><span class="hl-4">AxpMessagingUiConfig</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-7">// ...</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Your website&#39;s script that uses the AXP Messaging UI SDK: <code>your-website-script.js</code></p>
<pre><code class="language-js"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">AxpMessagingUiSdk</span><span class="hl-1"> } </span><span class="hl-2">&#39;@avaya/axp-messaging-ui-sdk&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">// Your code ...</span>
</code><button>Copy</button></pre>
<p>Your website&#39;s main HTML file: <code>index.html</code></p>
<pre><code class="language-html"><span class="hl-7">&lt;!-- Your index.html --&gt;</span><br/><span class="hl-11">&lt;!</span><span class="hl-12">DOCTYPE</span><span class="hl-1"> </span><span class="hl-13">html</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">html</span><span class="hl-1"> </span><span class="hl-13">lang</span><span class="hl-1">=</span><span class="hl-14">&quot;en&quot;</span><span class="hl-1"> </span><span class="hl-13">dir</span><span class="hl-1">=</span><span class="hl-14">&quot;ltr&quot;</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">head</span><span class="hl-11">&gt;</span><br/><span class="hl-1">    </span><span class="hl-11">&lt;</span><span class="hl-12">meta</span><span class="hl-1"> </span><span class="hl-13">charset</span><span class="hl-1">=</span><span class="hl-14">&quot;UTF-8&quot;</span><span class="hl-1"> </span><span class="hl-11">/&gt;</span><br/><span class="hl-1">    </span><span class="hl-11">&lt;</span><span class="hl-12">meta</span><span class="hl-1"> </span><span class="hl-13">name</span><span class="hl-1">=</span><span class="hl-14">&quot;viewport&quot;</span><span class="hl-1"> </span><span class="hl-13">content</span><span class="hl-1">=</span><span class="hl-14">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="hl-1"> </span><span class="hl-11">/&gt;</span><br/><span class="hl-1">    </span><span class="hl-11">&lt;</span><span class="hl-12">title</span><span class="hl-11">&gt;</span><span class="hl-1">Messaging-App-UI</span><span class="hl-11">&lt;/</span><span class="hl-12">title</span><span class="hl-11">&gt;</span><br/><span class="hl-1">    </span><span class="hl-11">&lt;</span><span class="hl-12">script</span><span class="hl-10"> </span><span class="hl-13">src</span><span class="hl-10">=</span><span class="hl-14">&quot;/path/to/axp-messaging-ui-config.js&quot;</span><span class="hl-11">&gt;&lt;/</span><span class="hl-12">script</span><span class="hl-11">&gt;</span><br/><span class="hl-1">    </span><span class="hl-11">&lt;</span><span class="hl-12">script</span><span class="hl-10"> </span><span class="hl-13">src</span><span class="hl-10">=</span><span class="hl-14">&quot;/path/to/your-website-script.js&quot;</span><span class="hl-10"> </span><span class="hl-13">type</span><span class="hl-10">=</span><span class="hl-14">&quot;module&quot;</span><span class="hl-11">&gt;&lt;/</span><span class="hl-12">script</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;/</span><span class="hl-12">head</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;</span><span class="hl-12">body</span><span class="hl-11">&gt;</span><br/><span class="hl-1">    </span><span class="hl-11">&lt;</span><span class="hl-12">axp-messaging-ui-sdk</span><span class="hl-11">&gt;&lt;/</span><span class="hl-12">axp-messaging-ui-sdk</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;/</span><span class="hl-12">body</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;/</span><span class="hl-12">html</span><span class="hl-11">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:configuration-options" class="tsd-anchor"></a><h4><a href="#md:configuration-options">Configuration options</a></h4><p>The AXP Messaging UI SDK supports following configuration options:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Required/Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>host</code></td>
<td><code>string</code></td>
<td>Required</td>
<td>The region of the AXP server.</td>
</tr>
<tr>
<td><code>integrationId</code></td>
<td><code>string</code></td>
<td>Required</td>
<td>The unique 36 character Integration ID available to your account administrator when the integration was created.</td>
</tr>
<tr>
<td><code>appKey</code></td>
<td><code>string</code></td>
<td>Required</td>
<td>The unique key associate with tenant in case of APIXH integration.</td>
</tr>
<tr>
<td><code>sessionParameters</code></td>
<td><code>object</code></td>
<td>Optional</td>
<td>The session parameters to be passed to the AXP server.</td>
</tr>
<tr>
<td><code>logLevel</code></td>
<td><code>LogLevel</code></td>
<td>Optional</td>
<td>The log level for the AXP Messaging UI SDK. Default is <code>WARN</code>.</td>
</tr>
<tr>
<td><code>idleTimeoutDuration</code></td>
<td><code>number</code></td>
<td>Optional</td>
<td>The duration in milliseconds after which the user is considered idle.</td>
</tr>
<tr>
<td><code>idleShutdownGraceTimeoutDuration</code></td>
<td><code>number</code></td>
<td>Optional</td>
<td>The duration in milliseconds after idle timeout after which and the session is closed automatically due to user inactivity.</td>
</tr>
<tr>
<td><code>locale</code></td>
<td><code>string</code></td>
<td>Optional</td>
<td>The locale to be used for the AXP Messaging UI SDK. Default is <code>en-US</code>.</td>
</tr>
<tr>
<td><code>onMessageBubbleClicked</code></td>
<td><code>function</code></td>
<td>Optional</td>
<td>The callback function to be called when the message bubble is clicked.</td>
</tr>
<tr>
<td><code>onInit</code></td>
<td><code>function</code></td>
<td>Optional</td>
<td>The callback function to be called when the AXP Messaging UI SDK is initialized for the current User (identified by the JWT).</td>
</tr>
<tr>
<td><code>onShutdown</code></td>
<td><code>function</code></td>
<td>Optional</td>
<td>The callback function to be called when the current session for the current User is closed.</td>
</tr>
<tr>
<td><code>onIdleTimeout</code></td>
<td><code>function</code></td>
<td>Optional</td>
<td>The callback function to be called when the current User is considered idle.</td>
</tr>
<tr>
<td><code>onLocationRequest</code></td>
<td><code>function</code></td>
<td>Optional</td>
<td>The callback function to be called when the User is requested to share their location.</td>
</tr>
<tr>
<td><code>beforeMessageSend</code></td>
<td><code>function</code></td>
<td>Optional</td>
<td>The callback function to be called before a message is sent.</td>
</tr>
<tr>
<td><code>beforeMessageRender</code></td>
<td><code>function</code></td>
<td>Optional</td>
<td>The callback function to be called before a message is rendered on the screen.</td>
</tr>
<tr>
<td><code>displayStrings</code></td>
<td><code>DisplayStrings</code></td>
<td>Optional</td>
<td>An object containing the display strings and their translations to be used in the AXP Messaging UI SDK. See <a href="#md:custom-display-strings-and-translations">custom display strings and translations</a> section.</td>
</tr>
<tr>
<td><code>emojiMartTranslations</code></td>
<td><code>Record&lt;Language,EmojiMartTranslation&gt;</code></td>
<td>Optional</td>
<td>AXP Messaging UI SDK uses <a href="https://github.com/missive/emoji-mart">Emoji Mart</a> Component as emoji picker. This configuration expects an object containing the display strings and their translations to be used for the emoji mart component.</td>
</tr>
<tr>
<td><code>themeCustomizations</code></td>
<td><code>Record&lt;string, AxpMessagingUiTheme&gt;</code></td>
<td>Optional</td>
<td>An object containing the theme customizations for the AXP Messaging UI SDK. Each key is a theme name and the value is the customizations for that theme. See <a href="#md:theme-customization">theme customization</a> section.</td>
</tr>
<tr>
<td><code>defaultTheme</code></td>
<td><code>string</code></td>
<td>Optional</td>
<td>Name of the default theme out of the themes provided via the <code>themeCustomizations</code> configuration to be used for the AXP Messaging UI SDK.</td>
</tr>
</tbody></table>
<a id="md:authentication" class="tsd-anchor"></a><h3><a href="#md:authentication">Authentication</a></h3><p>The AXP Messaging UI SDK doesn&#39;t authenticate the User. It expects the User to be authenticated by your website and its backend web application. The AXP Messaging UI SDK uses JSON Web Tokens (JWT) and requires a valid JWT to function. The JWT is obtained from your own backend web application that communicates with AXP&#39;s authentication API.</p>
<p>The AXP Messaging UI SDK expects an implementation of the <code>JwtProvider</code> interface to be provided during <a href="#md:initialization">initialization</a>. The <code>JwtProvider</code> implementation must have two methods:</p>
<ol>
<li><code>onExpiryWarning</code>: This method is called when the JWT is about to expire. In the argument of this method, the remaining time in milliseconds before the JWT expires is provided.</li>
<li><code>onExpiry</code>: This method is called when the JWT has expired.</li>
</ol>
<p><strong>The consumers of SDK should call the <code>AxpMessagingUiSdk.setJwt()</code> to provide a new JWT to the SDK.</strong></p>
<p>JWT Provider example (in TypeScript):</p>
<pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">JwtProvider</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@avaya/axp-messaging-ui-sdk&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-8">MyJwtProvider</span><span class="hl-1"> </span><span class="hl-5">implements</span><span class="hl-1"> </span><span class="hl-8">JwtProvider</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">onExpiryWarning</span><span class="hl-1">(</span><span class="hl-4">timeToExpiry</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">): </span><span class="hl-8">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">// ...</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onExpiry</span><span class="hl-1">(): </span><span class="hl-8">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">// ...</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>JWT Provider example (in JavaScript):</p>
<pre><code class="language-js"><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-8">MyJwtProviderJS</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">onExpiryWarning</span><span class="hl-1">(</span><span class="hl-4">timeToExpiry</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">// ...</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-0">onExpiry</span><span class="hl-1">(): </span><span class="hl-8">void</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">// ...</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:initialization" class="tsd-anchor"></a><h3><a href="#md:initialization">Initialization</a></h3><p>Before the User can start sending messages, the AXP Messaging UI SDK must be initialized. The initialization process creates a new session for the current user (identified by the JWT) post which the user can start sending messages. The initialization can be done by calling the <code>init</code> method on the instance of the <code>&lt;axp-messaging-ui-sdk&gt;</code> Web Component. The AXP Messaging UI SDK exports the class responsible for the Web Component as <code>AxpMessagingUiSdk</code>.</p>
<p>It can be imported as follows:</p>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">AxpMessagingUiSdk</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@avaya/axp-messaging-ui-sdk&#39;</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<p>Once imported, the instance can be procured by using the static method <code>getInstance()</code> on the class <code>AxpMessagingUiSdk</code>. The <code>init</code> method can then be called on the returned instance object to initialize the AXP Messaging UI SDK.</p>
<p><strong>⚠️ Important Note: Currently AXP Messaging UI SDK supports a single instance, using multiple instances of the <code>&lt;axp-messaging-ui-sdk&gt;</code> can lead to unpredictable behavior.</strong></p>
<p><strong>Example:</strong></p>
<pre><code class="language-js"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">axpMessagingUi</span><span class="hl-1"> = </span><span class="hl-4">AxpMessagingUiSdk</span><span class="hl-1">.</span><span class="hl-0">getInstance</span><span class="hl-1">();</span><br/><br/><span class="hl-7">// Arguments excluded in this example for brevity.</span><br/><span class="hl-4">axpMessagingUi</span><span class="hl-1">.</span><span class="hl-0">init</span><span class="hl-1">(...);</span>
</code><button>Copy</button></pre>
<p>The <code>init()</code> method takes an object with the following properties:</p>
<ul>
<li><code>jwtProvider</code>: An implementation of the <code>JwtProvider</code> interface. See <a href="#md:authentication">Authentication</a> section.</li>
<li><code>userName</code> (optional): The name of the current User to be displayed in the AXP Messaging UI SDK.</li>
<li><code>jwt</code>: The JWT for the current User.</li>
<li><code>contextParameters</code> (optional): The context parameters to be passed to the AXP server for routing.</li>
<li><code>sessionParameters</code> (optional): The session parameters to be passed to the AXP server.</li>
</ul>
<p>The <code>init()</code> method returns a <code>Promise</code> which resolves when the AXP Messaging UI SDK is initialized successfully.</p>
<p>Full example:</p>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">AxpMessagingUiSdk</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@avaya/axp-messaging-ui-sdk&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">axpMessagingUi</span><span class="hl-1"> = </span><span class="hl-4">AxpMessagingUiSdk</span><span class="hl-1">.</span><span class="hl-0">getInstance</span><span class="hl-1">();</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">axpMessagingUiInitParameters</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">jwtProvider:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">MyJwtProvider</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-4">jwt</span><span class="hl-1">: </span><span class="hl-2">&#39;&lt;User JWT&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">displayName:</span><span class="hl-1"> </span><span class="hl-2">&#39;John Doe&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">contextParameters:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;key1&#39;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&#39;value1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;key2&#39;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&#39;value2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">// ...</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">// Arguments excluded in this example for brevity.</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">axpMessagingUi</span><span class="hl-1">.</span><span class="hl-0">init</span><span class="hl-1">(</span><span class="hl-4">axpMessagingUiInitParameters</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:waiting-for-initialization" class="tsd-anchor"></a><h4><a href="#md:waiting-for-initialization">Waiting for initialization</a></h4><p>As shown in above example the <code>init()</code> method returns a <code>Promise</code> which resolves when the AXP Messaging UI SDK is initialized successfully, developers can <code>await</code> on this promise.</p>
<p>Alternatively, developers can also listen to the <code>onInit</code> callback provided during <a href="#md:configuration">configuration</a> to know when the AXP Messaging UI SDK is initialized successfully. The <code>onInitialized()</code> callback is called when the SDK is initialized successfully. The instance on which the initialization occurred is passed as an argument to the callback.</p>
<a id="md:when-to-initialize" class="tsd-anchor"></a><h4><a href="#md:when-to-initialize">When to initialize</a></h4><p>Since the initialization process creates a new session for the User, it should be done whenever the User changes. See <a href="#md:shutting-down">shutdown</a> section to know how to end the previous User&#39;s session when the current User changes.</p>
<p>Since, the AXP Messaging UI SDK doesn&#39;t authenticate the User, it gives the flexibility to the Client Website to decide when to initialize the AXP Messaging UI SDK. The initialization can be done when the User logs in or whenever the User clicks on the messaging bubble, or any other flow that your website has.</p>
<p>To know when a User has clicked on the messaging bubble, the AXP Messaging UI SDK provides a callback <code>onMessageBubbleClicked</code> which is called when the User clicks on the messaging bubble. This callback must be provided during <a href="#md:configuration">configuration</a>.</p>
<p>The <code>onMessageBubbleClicked</code> callback automatically receives the instance of the <code>&lt;axp-messaging-ui-sdk&gt;</code> Web Component on which the User had clicked. This instance can be used to call the <code>init</code> method to initialize the AXP Messaging UI SDK.</p>
<a id="md:shutting-down" class="tsd-anchor"></a><h3><a href="#md:shutting-down">Shutting down</a></h3><p>Whenever the User changes or the User logs out, the AXP Messaging UI SDK should be shut down to end the current User&#39;s session. Post that the AXP Messaging UI SDK can be re-<a href="#md:initialization">initialized</a> for the new User.</p>
<p>To shutdown, the AXP Messaging UI SDK provides a <code>shutdown()</code> method on the instance of the <code>&lt;axp-messaging-ui-sdk&gt;</code> Web Component. The <code>shutdown()</code> method returns a <code>Promise</code> which resolves when the AXP Messaging UI SDK is shut down successfully.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">AxpMessagingUiSdk</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@avaya/axp-messaging-ui-sdk&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">axpMessagingUi</span><span class="hl-1"> = </span><span class="hl-4">AxpMessagingUiSdk</span><span class="hl-1">.</span><span class="hl-0">getInstance</span><span class="hl-1">();</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">axpMessagingUi</span><span class="hl-1">.</span><span class="hl-0">shutdown</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>Alternatively, you can also listen to the shutdown event by providing the <code>onShutdown()</code> callback during <a href="#md:configuration">configuration</a>. The <code>onShutdown()</code> callback is called when the SDK is shut down. The instance on which the shutdown event occurred is passed as an argument to the callback.</p>
<a id="md:user-activity" class="tsd-anchor"></a><h3><a href="#md:user-activity">User Activity</a></h3><p>The AXP Messaging UI SDK internally has two timers to track the User&#39;s inactivity.</p>
<p>The first timer is the idle timer which is started right after the session is created. This timer expires when there are no activities for the configured duration. Once this timer expires the Avaya Messaging UI SDK will emit the Idle Timeout Invoked event and provide the configured grace period duration in the event&#39;s payload. The Client can show an appropriate message on the UI, warning the User about inactivity, by handling this event. Any activity from the User like sending a message etc will reset this timer.</p>
<p>The second timer is idle shutdown grace timer which runs after the idle timer has expired. This timer provides additional grace period for User or the Client to extend the session. After this timer expires, the session is terminated automatically and the AXP Messaging UI SDK will raise the shutdown event and shut itself down (see <a href="#md:shutting-down">shutdown</a> section for more details). If the Client wants to continue it must be reinitialize the SDK to do so.</p>
<p>Both the timeout values can be <a href="#md:configuration">configured</a>.</p>
<p>Developers can listen to the Idle Timeoout Invoked event by providing the <code>onIdleTimeout()</code> callback during <a href="#md:configuration">configuration</a>. Alternatively, developers can also add listener for the Idle Timeout Invoked event by calling the static method <code>addIdleTimeOutInvokedListener()</code> on the class <code>AxpMessagingUiSdk</code>. Regardless of which approach is used, the callback will be called when the User is considered idle. And the instance on which the event occurred is passed as an argument to the callback.</p>
<a id="md:extending-the-session" class="tsd-anchor"></a><h4><a href="#md:extending-the-session">Extending the session</a></h4><p>The AXP Messaging UI SDK provides a static method <code>resetIdleTimeout()</code> on the class <code>AxpMessagingUiSdk</code> to reset the idle timer. This method helps the Client Website to extend the session in scenarios where the Client Website is aware that the User is active based on events from its UI.</p>
<a id="md:custom-display-strings-and-translations" class="tsd-anchor"></a><h3><a href="#md:custom-display-strings-and-translations">Custom display strings and translations</a></h3><p>The AXP Messaging UI SDK provides an option to customize the display strings used in the UI. This can be done by providing the <code>displayStrings</code> configuration during <a href="#md:configuration">initialization</a>.</p>
<p>Check out the <code>{@link DisplayStrings}</code> type exported by the AXP Messaging UI SDK to know the strings that can be customized.</p>
<p>The language of the messaging ui can be changed by calling the static method <code>setLocale()</code> on the class <code>AxpMessagingUiSdk</code>, which takes the locale string as an argument.</p>
<a id="md:theme-customization" class="tsd-anchor"></a><h3><a href="#md:theme-customization">Theme Customization</a></h3><p>The AXP Messaging UI SDK provides an option to customize the visual elements of the UI like colors, fonts, icons etc. Developers can create multiple themes and pass them to the AXP Messaging UI SDK in the <code>themeCustomizations</code> in the <a href="#md:configuration">configuration</a>.</p>
<p>The themes can be changed by calling the static method <code>setTheme()</code> on the class <code>AxpMessagingUiSdk</code>.</p>
<p>The <code>{@link AxpMessagingUiTheme}</code> type exported by the AXP Messaging UI SDK provides the structure of the theme object and all available options that can be changed. The options are organized by the various regions in the UI.</p>
<a id="md:other-utilities-and-methods" class="tsd-anchor"></a><h3><a href="#md:other-utilities-and-methods">Other utilities and methods</a></h3><a id="md:properties" class="tsd-anchor"></a><h4><a href="#md:properties">Properties</a></h4><p>The AXP Messaging UI SDK provides the following properties:</p>
<ul>
<li><code>currentTheme</code>: The name of the current theme being used by the AXP Messaging UI SDK. This is available as a static property of the <code>AxpMessagingUiSdk</code> class.</li>
<li><code>initialized</code>: A boolean value indicating whether the AXP Messaging UI SDK is initialized or not. This is available on the instance of the <code>AxpMessagingUiSdk</code> class.</li>
</ul>
<a id="md:methods" class="tsd-anchor"></a><h4><a href="#md:methods">Methods</a></h4><ul>
<li><code>minimize()</code>: Minimizes the AXP Messaging UI SDK to the messaging bubble. This is available as a static method of the <code>AxpMessagingUiSdk</code> class.</li>
<li><code>maximize()</code>: Maximizes the AXP Messaging UI SDK from the messaging bubble. This is available as a static method of the <code>AxpMessagingUiSdk</code> class. This method can be called only when the AXP Messaging UI SDK has been initialized.</li>
<li><code>setLogLevel()</code> : Sets the log level for the AXP Messaging UI SDK. This is available as a static method of the <code>AxpMessagingUiSdk</code> class.</li>
</ul>
<a id="md:attributes" class="tsd-anchor"></a><h4><a href="#md:attributes">Attributes</a></h4><p>The AXP Messaging UI SDK provides the following attributes:</p>
<ul>
<li><code>hide</code>: A boolean attribute that can be set on the <code>&lt;axp-messaging-ui-sdk&gt;</code> Web Component to hide the messaging UI. Example: <code>&lt;axp-messaging-ui-sdk hide=&quot;true&quot;&gt;&lt;axp-messaging-ui-sdk&gt;</code></li>
</ul>
</section><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><h3 class="tsd-index-heading uppercase">Index</h3><section class="tsd-index-section"><h3 class="tsd-index-heading">Enumerations</h3><div class="tsd-index-list"><a href="../enums/_avaya_axp_messaging_ui_sdk.LogLevel.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Log<wbr/>Level</span></a>
<a href="../enums/_avaya_axp_messaging_ui_sdk.SupportedIconTypes.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Supported<wbr/>Icon<wbr/>Types</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Classes</h3><div class="tsd-index-list"><a href="../classes/_avaya_axp_messaging_ui_sdk.AxpMessagingUiSdk.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Axp<wbr/>Messaging<wbr/>Ui<wbr/>Sdk</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Interfaces</h3><div class="tsd-index-list"><a href="../interfaces/_avaya_axp_messaging_ui_sdk.JwtProvider.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Jwt<wbr/>Provider</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Type Aliases</h3><div class="tsd-index-list"><a href="../types/_avaya_axp_messaging_ui_sdk.Address.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Address</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.AxpMessagingUiConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Axp<wbr/>Messaging<wbr/>Ui<wbr/>Config</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.AxpMessagingUiInitParams.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Axp<wbr/>Messaging<wbr/>Ui<wbr/>Init<wbr/>Params</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.AxpMessagingUiTheme.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Axp<wbr/>Messaging<wbr/>Ui<wbr/>Theme</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.ButtonConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Button<wbr/>Config</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.Coordinates.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Coordinates</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.DisplayStrings.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Display<wbr/>Strings</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.EmojiMartTranslation.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Emoji<wbr/>Mart<wbr/>Translation</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.FontConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Font<wbr/>Config</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.Language.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Language</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.Locale.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Locale</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.LocationRequestHandler.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Location<wbr/>Request<wbr/>Handler</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.ParticipantAvatar.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Participant<wbr/>Avatar</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.ParticipantMessage.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Participant<wbr/>Message</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.TextConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Text<wbr/>Config</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.Translations.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Translations</span></a>
<a href="../types/_avaya_axp_messaging_ui_sdk.WindowWithAxpMessagingUiSdkConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2097152"></use></svg><span>Window<wbr/>With<wbr/>Axp<wbr/>Messaging<wbr/>Ui<wbr/>Sdk<wbr/>Config</span></a>
</div></section></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:axp-messaging-ui"><span>AXP <wbr/>Messaging UI</span></a><ul><li><a href="#md:features"><span>Features</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><ul><li><a href="#md:configuration"><span>Configuration</span></a></li><li><ul><li><a href="#md:configuration-options"><span>Configuration options</span></a></li></ul></li><li><a href="#md:authentication"><span>Authentication</span></a></li><li><a href="#md:initialization"><span>Initialization</span></a></li><li><ul><li><a href="#md:waiting-for-initialization"><span>Waiting for initialization</span></a></li><li><a href="#md:when-to-initialize"><span>When to initialize</span></a></li></ul></li><li><a href="#md:shutting-down"><span>Shutting down</span></a></li><li><a href="#md:user-activity"><span>User <wbr/>Activity</span></a></li><li><ul><li><a href="#md:extending-the-session"><span>Extending the session</span></a></li></ul></li><li><a href="#md:custom-display-strings-and-translations"><span>Custom display strings and translations</span></a></li><li><a href="#md:theme-customization"><span>Theme <wbr/>Customization</span></a></li><li><a href="#md:other-utilities-and-methods"><span>Other utilities and methods</span></a></li><li><ul><li><a href="#md:properties"><span>Properties</span></a></li><li><a href="#md:methods"><span>Methods</span></a></li><li><a href="#md:attributes"><span>Attributes</span></a></li></ul></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>AXP Web Omni SDK</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><div class="overlay"></div></body></html>